<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="icon" href="https://res.cloudinary.com/hxntglbil/image/upload/v1588586420/icons/icon_ootfud.png">
  <link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/animate.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <title>HookahShop</title>

</head>

<body>
<div class="main-wrapper">

  <div class="wrapper sticky-top">
    <nav class="navbar navbar-expand-lg navbar-light bg-white">

      <!-- Navbar text -->
      <a class="navbar-brand text-dark" href="/">
        <img src="https://res.cloudinary.com/hxntglbil/image/upload/v1588586420/icons/icon_ootfud.png" width="40" height="40" class="d-inline-block align-top mr-1" alt="HookahShop">
        <span class="d-inline-block m-0">HookahShop</span>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03"
              aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>


      <!-- Navbars -->
      <div class="collapse navbar-collapse navbar-nav" id="navbarTogglerDemo03">
        <ul class="nav mr-auto mx-auto justify-content-center" th:each="catalog : ${catalogs}">

          <!-- For items without subcatalog -->
          <li th:if="${catalog.getSubCatalogList() == null || catalog.getSubCatalogList().size() == 1}" class="nav-item dropdown text">
            <a class="nav-link text-dark" th:text="${catalog.getName()}" th:href="'/shop?type='+${catalog.getName()}">--- NAME ---</a>
          </li>

          <!-- For items with subcatalog enable -->
          <li th:if="${catalog.getSubCatalogList() != null && catalog.getSubCatalogList().size() > 1}" class="nav-item dropdown">
            <a class="nav-link text-dark" style="cursor: pointer;" th:text="${catalog.getName()}"
               data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">-- NAME -- </a>
            <div class="dropdown-menu">
              <div class="items" th:each="subcatalog : ${catalog.getSubCatalogList()}">
                <a class="dropdown-item" th:text="${subcatalog.getSubname()}"
                   th:href="'/shop?type='+${subcatalog.getSubname()}">-- SUBNAME -- </a>
              </div>
            </div>
          </li>
        </ul>

        <!-- Navbar right items -->
        <ul class="nav justify-content-center align-items-center mt-2 mb-2">
          <li class="nav-item">
            <a href="/auth" class="text-center pt-2 pb-2 mr-2"><i class="fas fa-user-circle fa-2x text-primary mx-3"></i></a>
          </li>
        </ul>
        <ul class="nav justify-content-center align-items-center mt-2 mb-2">
          <li class="nav-item">
            <div class="dropdown">
              <button type="button" class="btn btn-primary dropdown-toggle pt-2 pb-2 mr-2"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-shopping-cart mx-3"></i>
                <span id="count"><!-- Simple price counter --></span>
              </button>
              <div class="dropdown-menu dropdown-menu-right dropdown-wide dropdown-notification" id="dropdown">
                <div class="dropdown-header"><h6 class="m-2">Кошик</h6></div>
                <legend></legend>
                <div class="conteiner">
                  <div id="show-cart">
                    <h6 class="text-center">Ваш кошик порожній &#x1f61f;</h6>
                    <!-- Generated Script -->
                    <legend></legend>
                  </div>
                  <div class="dropdown-footer text-right" id="total-cart">
                    <!--  <a href="/payment.html" class="btn btn-primary float-right mb-2"><span class="toOrder"></span></a>
                    <span class="float-left">Total: <span</span>-->
                  </div>
                </div>
              </div>
            </div>
            <!-- On dropdown click items fix. Now dd doesn't close on click -->
            <script>document.getElementById("dropdown").addEventListener('click', function (event) {event.stopPropagation();});</script>
          </li>
        </ul>
      </div>
    </nav>
    <div id="note" class="fadeout">
      Вибачте, але даного товару вже немає на складі!
    </div>
  </div>

    <!-- Carousel-->
    <div class="container-fluid m-0 p-0 carousel">
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100" src="https://res.cloudinary.com/hxntglbil/image/upload/v1588586421/carousel/carousel-3_s8vl9p.jpg"
             alt="First slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="https://res.cloudinary.com/hxntglbil/image/upload/v1588586420/carousel/carousel-1_uiqlqr.jpg"
             alt="Second slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="https://res.cloudinary.com/hxntglbil/image/upload/v1588586420/carousel/carousel-2_klw18u.jpg"
             alt="Third slide">
      </div>
    </div>

    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
  <!-- Items to show (кальян, комплектуючі, маленькі іконки)-->
  <div class="container mb-3 mt-3 menu-items">
    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-6 col-sm-12 mt-1 mb-1" th:each="catalog : ${catalogs}">
        <div class="card card-item-index">
          <div class="card-body text-center">
            <img th:src="${catalog.getImage()}" th:text="${catalog.getName()}" class="m-2" height="80px"></div>
        </div>
      </div>
    </div>
  </div>


  <div class="container-fluid " style="background-color: #29aafe;">
    <br>
  </div>

  <!-- RECOMMENDED -->
  <div class="container mt-4 mb-4">
    <h4 class="text-center text-uppercase mb-4 ">Рекомендуємі</h4>
    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-6 col-sm-12" th:each="recommend : ${recommended}">
        <div class="card m-auto">
          <div class="content text-center">
            <a th:href="'/shop/'+${recommend.getId()}" class="text-decoration-none text-dark">
              <img class="img-item mr-auto ml-auto" th:src="${recommend.getImageUrl()}" alt="">
              <div class="card-body">
                <h5 class="card-text text-center" th:text="${recommend.getName()}">-- RECOMMENDED NAME --</h5>
                <legend></legend>
                <h5 class="card-text text-center" th:text="${recommend.getPrice()} + ' грн'">-- RECOMMENDED PRICE --</h5>
              </div>
            </a>
            <button th:data-name="${recommend.getName()}"
                    th:data-price="${recommend.getPrice()}"
                    th:data-img="${recommend.getImageUrl()}"
                    th:data-id="${recommend.getId()}"
                    class="btn btn-primary w-100 item-add" th:disabled="${recommend.getAmount() <= 0}">Замовити</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid" style="background-color: #29aafe;">
    <br>
  </div>

  <!-- NEW -->
  <div class="container mt-4 mb-4">
    <h4 class="text-center text-uppercase mb-4 ">Новинки</h4>
    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-6 col-sm-12" th:each="newitem : ${newitems}">
        <div class="card m-auto">
          <div class="content text-center">
            <a th:href="'/shop/' + ${newitem.getId()}" class="text-decoration-none text-dark">
              <img class="img-item mr-auto ml-auto" th:src="${newitem.getImageUrl()}" alt="">
              <div class="card-body">
                <h5 class="card-text text-center" th:text="${newitem.getName()}">-- NEW NAME --</h5>
                <legend></legend>
                <h5 id="span1" class="card-text text-center" th:text="${newitem.getPrice()}+' грн'">-- NEW PRICE --</h5>
              </div>
            </a>
            <button th:data-name="${newitem.getName()}"
                    th:data-price="${newitem.getPrice()}"
                    th:data-img="${newitem.getImageUrl()}"
                    th:data-id="${newitem.getId()}"
                    class="btn btn-primary w-100 item-add" th:disabled="${newitem.getAmount() <= 0}">Замовити</button>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!-- Footer -->
  <footer id="footer" class="site-footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-sm-12 col-md-6">
          <h6>Про нас</h6>
          <p class="text-justify">HookahShop магазин кальянів, комплектуючих, аксесуарів,
            тощо.<br>
            Кальян — прилад для куріння, що дозволяє фільтрувати і охолоджувати дим, що
            вдихається. Роль фільтра відіграє посудина з водою, вином чи іншою рідиною. У
            посудину вставлена курильна
            чашка,
            поєднана з трубкою, кінець якої йде під воду. Вище рівня води з посудини
            відходить ще одна трубка, до якої
            прикріплений
            цибух. При курінні в посудині кальяну створюється негативний тиск, завдяки чому
            дим піднімається крізь
            рідину
            і через
            трубку з цибухом потрапляє в легені курця.
          </p>
        </div>

        <div class="col-lg-3 col-xs-12 col-md-3">
          <h6>Категорії</h6>
          <ul class="footer-links">
            <li><a href="/shop?type=Кальяни">Кальяни</a></li>
            <li><a href="/shop?type=Колби">Комплектуючі</a></li>
            <li><a href="/shop?type=Регулятор жару">Аксесуари</a></li>
            <li><a href="/shop?type=Уголь">Матеріали</a></li>
            <li><a href="/personal">Особистий кабінет</a></li>
            <li><a href="/order">Оформлення замовлення</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-3 col-sm-4 col-xs-12">
          <style>
            #map {
              height: 100%;
              width: 100%;
            }
          </style>
          <div id="map"></div>
          <script>
            function initMap() {
              var uluru = { lat: 50.381426, lng: 30.496706 };
              var map = new google.maps.Map(
                      document.getElementById('map'), { zoom: 17, center: uluru });
              var marker = new google.maps.Marker({ position: uluru, map: map });
            }
          </script>
          <script async defer
                  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyARBiMgr_hoUyZI4psDdTJ06cpraxNse3Y&callback=initMap">
          </script>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row mt-4">
        <div class="col-md-8 col-sm-4 col-xs-12">
          <p class="copyright-text">Copyright &copy; 2020 All Rights Reserved.</p>
        </div>

        <div class="col-md-4 col-sm-4 col-xs-12">
          <ul class="social-icons">
            <li><a class="facebook" href="#"><i class="fab fa-facebook"></i></a></li>
            <li><a class="twitter" href="#"><i class="fab fa-twitter"></i></a></li>
            <li><a class="dribbble" href="#"><i class="fab fa-dribbble"></i></a></li>
            <li><a class="linkedin" href="#"><i class="fab fa-linkedin"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>
</div>


  <!-- Bootstrap and JQuery -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="js/cart.js"></script>
</body>

</html>